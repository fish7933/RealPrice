# Project Summary
Shadcn-UI is a logistics and shipping web application designed to optimize freight management for businesses. It includes features for cost calculation, historical data analysis, and user role management, leveraging Supabase for backend services. Recent enhancements have focused on improving user authentication, refining the Cost Calculator, and optimizing deployment settings, including support for Single Page Application (SPA) routing.

# Project Module Description
- **AdminDashboard**: Admin interface for managing freight data and statistics.
- **UserDashboard**: User interface for viewing freight calculations and history.
- **CombinedFreight**: Management of combined freight rates with versioning and search capabilities.
- **FreightTable**: Management of freight routes and costs, featuring search filters and pagination.
- **AddRouteForm**: Interface for adding new freight routes.
- **CostCalculator**: Tool for calculating shipping costs with improved functionality.
- **CostCalculatorWithTabs**: Enhanced cost calculation interface with local charge input.
- **WeightSurchargeTable**: Management of weight surcharge rules.
- **OtherCostsTable**: Management of additional freight transport costs.
- **AgentSeaFreightTable**: Management of sea freight rates for agents with updated search filters.
- **BorderDestinationTable**: Management of freight rates for border destinations.
- **PortBorderTable**: Updates freight rates for specific ports.
- **RailAgentTable**: Management of rail agent information.
- **TruckAgentTable**: Management of truck agent details.
- **DTHCTable**: Management of D/O (DTHC) costs.
- **LoginForm**: User authentication interface, recently updated.
- **Layout**: Consistent application layout with dynamic navigation.
- **InlineEditCell**: Inline editing for table data.
- **UserManagement**: Management of user roles and permissions.
- **QuotationDialog**: Generation and export of quotations.
- **AuthContext**: Management of user authentication state.
- **FreightContext**: Handling freight-related data, including version tracking and local charge calculations.
- **ShippingLineTable**: Management of shipping line data.
- **AuditLogTable**: Display of audit logs with pagination, updated to show 5 items per page.
- **TimeMachineDialog**: Component for viewing historical audit logs.
- **ValidityPeriodInput**: Management of freight rate validity periods.
- **SeaFreightTable**: Management of sea freight rates with version tracking.
- **SupabaseIntegration**: Management of Supabase connection.
- **SupabaseMigration**: Initial data migration to Supabase.
- **PortBorderFreightTable**: Management of port border freight rates.
- **CheckDuplicateRailFreight**: Identification of duplicate rail freight entries.
- **FindDuplicateRailFreight**: Checking for duplicate rail freight entries.
- **ListTables**: Listing tables in the Supabase database.
- **ValidityHelper**: Utility for managing validity periods.
- **ExcelExport**: Exporting quotations to Excel with enhanced styling.
- **ResetSuperadminPassword**: Edge Function for resetting the superadmin password.
- **VercelIntegration**: Updated deployment configurations.
- **CalculationHistory**: Management of calculation history.
- **ProfileSettings**: Interface for users to manage their profile settings, including password changes.

# Directory Tree
```
shadcn-ui/
├── README.md               # Project documentation
├── components.json         # Component metadata
├── eslint.config.js        # ESLint configuration
├── index.html              # Main HTML file with cache control
├── package.json            # Project dependencies and scripts
├── postcss.config.js       # PostCSS configuration
├── public/                 # Public assets
│   ├── favicon.svg         # Application favicon
│   └── robots.txt          # Robots.txt file
├── src/                    # Source files
│   ├── App.css             # Global styles
│   ├── App.tsx             # Main application component with cache clearing logic
│   ├── components/         # UI components
│   ├── contexts/           # Context providers for state management
│   ├── data/               # Initial data for the application
│   ├── hooks/              # Custom hooks
│   ├── pages/              # Page components
│   ├── types/              # TypeScript type definitions
│   ├── lib/                # Utility functions
│   ├── utils/              # Utility functions for Excel export and validity management
│   └── main.tsx            # Application entry point
├── tailwind.config.ts      # Tailwind CSS configuration
├── template_config.json    # Template configuration
├── todo.md                 # Project todo list
├── tsconfig.app.json       # TypeScript configuration for app
├── tsconfig.json           # Base TypeScript configuration
├── tsconfig.node.json      # TypeScript configuration for Node
├── vite.config.ts          # Vite configuration
├── vercel.json             # Configuration for Vercel deployment
├── supabase/functions/      # Supabase functions directory
│   ├── create-user/        # Edge Function for creating users
│   ├── update-user-password/ # Edge Function for updating user passwords
│   └── delete-user/        # Edge Function for deleting users
├── src/lib/supabase.ts     # Supabase client configuration
├── check_data.sql          # SQL script to check combined freights
└── uploads/
    └── 참고엑셀.xlsx      # Reference Excel file
```

# File Description Inventory
- **README.md**: Overview and instructions for the project.
- **index.html**: Main entry point for the application, includes cache control meta tags.
- **src/**: Contains source code, including components, pages, and styles.
- **public/**: Static assets like images and robots.txt.
- **todo.md**: Planning document for project features and tasks.
- **check_data.sql**: SQL script for checking combined freight data.
- **src/data/initialData.ts**: Initial data related to users, destinations, and freight rates.
- **utils/excelExport.ts**: Functions for exporting quotations to Excel, now with enhanced styling.
- **utils/validityHelper.ts**: Functions for managing freight rate validity periods.
- **src/pages/UserManagement.tsx**: Interface for managing users and roles.
- **src/pages/AdminDashboard.tsx**: Interface for admin management.
- **src/pages/UserDashboard.tsx**: Interface for user dashboard, recently updated.
- **src/contexts/AuthContext.tsx**: Manages authentication state and user data, now includes password change functionality.
- **src/contexts/FreightContext.tsx**: Updated to include enhanced auditing and freight data management.
- **src/components/freight/SeaFreightTable.tsx**: Manages sea freight rates, updated with search filters and pagination.
- **src/components/agents/ShippingLineTable.tsx**: Manages shipping line data.
- **src/components/SupabaseIntegration.tsx**: Component for managing the connection with Supabase.
- **src/lib/supabase-migration.ts**: Migration script for Supabase database.
- **src/components/freight/DestinationTable.tsx**: Manages destination data.
- **src/components/freight/PortTable.tsx**: Manages port data.
- **src/components/freight/PortBorderTable.tsx**: Manages freight rates for border ports; recently updated.
- **src/components/layout/Layout.tsx**: Updated to improve navigation structure based on user roles.
- **src/components/ErrorBoundary.tsx**: Handles global errors and user feedback.
- **src/components/freight/PortBorderFreightTable.tsx**: Manages port border freight rates.
- **find_duplicate_rail_freight.js**: Script to identify duplicates in rail freight data.
- **list_tables.js**: Script to list tables in the Supabase database.
- **src/components/auth/LoginForm.tsx**: Updated user authentication interface to remove test account information and display version and update details.
- **src/components/calculator/CostCalculator.tsx**: Updated component for calculating costs; unnecessary fields removed.
- **src/components/calculator/CostCalculatorWithTabs.tsx**: Enhanced component for cost calculation with tabs, now includes local charge input.
- **supabase/functions/reset_superadmin_password.js**: Edge Function for resetting the superadmin password.
- **vercel.json**: Updated deployment configuration for Vercel using npm.
- **src/components/calculation/CalculationHistory.tsx**: New component for managing calculation history.
- **src/lib/supabase.ts**: Updated to include new database table configurations with a unified naming convention.
- **src/components/freight/AuditLogTable.tsx**: Updated to show 5 items per page for audit logs.
- **src/pages/ProfileSettings.tsx**: Interface for managing user profile settings, including password changes.
- **src/components/calculator/TimeMachineDialog.tsx**: New component for viewing historical audit logs.

# Technology Stack
- **React**: JavaScript library for building user interfaces.
- **TypeScript**: Superset of JavaScript for static typing.
- **Shadcn-UI**: Component library for UI elements.
- **Tailwind CSS**: Utility-first CSS framework for styling.
- **Vite**: Build tool for modern web projects.
- **xlsx**: Library for Excel file manipulation.
- **xlsx-js-style**: Enhanced library for styled Excel file manipulation.
- **Supabase**: Backend as a service for database management and real-time data handling.
- **Vercel**: Deployment platform for hosting applications.

# Usage
1. **Install dependencies**: Use the package manager to install project dependencies.
2. **Build the project**: Run the build command to compile the application.
3. **Run the application**: Execute the command to start the application.
