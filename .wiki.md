# Project Summary
This project is an advanced freight cost calculator tailored for logistics companies. It enhances operational efficiency by providing accurate shipping cost estimations, considering factors like ports of loading (POL), ports of discharge (POD), weight, and additional fees. Recent updates have introduced a comprehensive historical freight data management system, including version control, batch deletion, audit logging, and Excel export capabilities. The integration of a new context for managing freight data operations further improves user experience and data handling.

# Project Module Description
The project consists of several functional modules:
- **CostCalculatorWithTabs**: Core component for freight cost calculation with a tabbed interface, supporting historical dates for freight options.
- **AdminDashboard**: Interface for managing freight-related data, including agents and ports.
- **AgentSeaFreightTable**: Displays statistics for sea freight agents.
- **ShippingLineTable**: Manages details about shipping lines.
- **DTHCTable**: Handles Destination Terminal Handling Charge (D/O) entries.
- **CombinedFreightTable**: Manages combined freight rates, now includes expiry validation for rates.
- **BorderDestinationTable**: Handles freight rates for border destinations with batch operations.
- **WeightSurchargeTable**: Manages weight surcharge rules.
- **DPCostTable**: Manages direct port cost information.
- **CostCalculatorHeader**: Header component for the cost calculator.
- **CostResultTable**: Displays optimized cost calculation results with detailed breakdowns and SQL generation capabilities.
- **CalculationHistory**: Manages and shows historical calculation data.
- **SeaFreightDialog**: Dialog for selecting sea freight options.
- **CostInputForm**: Form for inputting cost-related data.
- **RailAgentTable**: Displays rail freight agents.
- **TruckAgentTable**: Displays truck freight agents.
- **LoginForm**: User authentication form.
- **TimeMachineDialog**: Dialog for selecting historical dates for freight rate changes.
- **QuotationDialog**: Generates quotations based on calculated costs and exports to Excel.
- **AuditLogTable**: Manages and displays audit logs of freight-related changes, now with Excel export and version comparison features.
- **PortBorderTable**: Manages freight rates for border crossings with enhanced validation for POL.
- **FreightContext**: New context for managing freight data operations and state.
- **SeaFreightHistory**: New data type for managing historical freight records.
- **FreightSqlDialog**: New dialog for generating and displaying SQL queries related to freight calculations.

# Directory Tree
```
src/
├── components/
│   ├── auth/
│   │   └── LoginForm.tsx
│   ├── calculator/
│   │   ├── CostCalculatorHeader.tsx
│   │   ├── CostCalculatorWithTabs.tsx
│   │   ├── CostInputForm.tsx
│   │   ├── CostResultTable.tsx
│   │   ├── CalculationHistory.tsx
│   │   ├── SeaFreightDialog.tsx
│   │   ├── QuotationDialog.tsx
│   │   ├── TimeMachineDialog.tsx
│   │   └── FreightSqlDialog.tsx
│   ├── agents/
│   │   ├── RailAgentTable.tsx
│   │   ├── TruckAgentTable.tsx
│   │   └── ShippingLineTable.tsx
│   ├── freight/
│   │   ├── DTHCTable.tsx
│   │   ├── CombinedFreightTable.tsx
│   │   ├── AgentSeaFreightTable.tsx
│   │   ├── PortTable.tsx
│   │   ├── DestinationTable.tsx
│   │   ├── SeaFreightTable.tsx
│   │   ├── WeightSurchargeTable.tsx
│   │   ├── DPCostTable.tsx
│   │   ├── AuditLogTable.tsx
│   │   ├── PortBorderTable.tsx
│   │   └── BorderDestinationTable.tsx
│   ├── ui/
│   │   ├── button.tsx
│   │   ├── input.tsx
│   │   ├── label.tsx
│   │   ├── checkbox.tsx
│   │   ├── card.tsx
│   │   ├── select.tsx
│   │   ├── table.tsx
│   │   ├── alert-dialog.tsx
│   │   ├── dialog.tsx
│   │   ├── tabs.tsx
│   │   └── alert.tsx
└── pages/
    ├── AdminDashboard.tsx
    └── UserManagement.tsx
```

# File Description Inventory
- **LoginForm.tsx**: User authentication form with improved error handling.
- **CostCalculatorHeader.tsx**: Header component for the cost calculator, enhanced for usability.
- **CostCalculatorWithTabs.tsx**: Core component for calculating freight costs, now supports historical dates for options.
- **CostInputForm.tsx**: Updated form for inputting cost-related data.
- **CostResultTable.tsx**: Displays results of freight cost calculations with detailed breakdown features and SQL generation.
- **CalculationHistory.tsx**: Manages and displays historical calculation data.
- **SeaFreightDialog.tsx**: Dialog for selecting sea freight options.
- **QuotationDialog.tsx**: Dialog for generating quotations and exporting data.
- **TimeMachineDialog.tsx**: Enhanced dialog for selecting any historical date.
- **AdminDashboard.tsx**: Interface for managing freight-related data.
- **UserManagement.tsx**: Interface for managing user accounts.
- **AgentSeaFreightTable.tsx**: Displays statistics of sea freight agents.
- **ShippingLineTable.tsx**: Manages and displays shipping line information.
- **RailAgentTable.tsx**: Displays rail freight agents.
- **TruckAgentTable.tsx**: Displays truck freight agents.
- **DTHCTable.tsx**: Manages D/O entries and versions.
- **CombinedFreightTable.tsx**: Manages combined freight rates and expiry validation.
- **PortTable.tsx**: Manages port information.
- **DestinationTable.tsx**: Manages destination information.
- **SeaFreightTable.tsx**: Displays sea freight options and statistics.
- **AuditLogTable.tsx**: Displays version history logs and manages audit logs.
- **WeightSurchargeTable.tsx**: Manages weight surcharge information.
- **DPCostTable.tsx**: Manages direct port cost information.
- **PortBorderTable.tsx**: Manages freight rates for border crossings.
- **BorderDestinationTable.tsx**: Manages freight rates for border destinations.
- **freightLoaders.ts**: Handles loading of freight-related data from the database.
- **auditLogExport.ts**: Utility for exporting audit logs to Excel format.
- **supabase.ts**: Configures Supabase client and defines database table names.
- **testHistoricalFreight.ts**: Contains tests for validating historical freight data.

# Technology Stack
- React
- TypeScript
- Lucide Icons
- Tailwind CSS for styling
- Context API for state management
- Supabase for backend services

# Usage
1. **Install Dependencies**: Run the command to install the necessary dependencies.
2. **Build the Project**: Use the build command to compile the project.
3. **Run the Application**: Start the application using the appropriate command.
4. **Interact with the Calculator**: Utilize the UI to input POL, POD, weight, and additional costs to calculate freight estimates.
