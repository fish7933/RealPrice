# Project Summary
This project is an advanced freight cost calculator designed specifically for logistics companies. It aims to enhance operational efficiency by providing accurate shipping cost estimates based on various parameters such as ports of loading (POL), ports of discharge (POD), weight, and additional fees. Recent updates have focused on improving SQL query handling for historical data, user experience, and error management, while also introducing features for filtering historical dates.

# Project Module Description
The project consists of several functional modules:
- **CostCalculatorWithTabs**: Core component for calculating freight costs with a tabbed interface, now supporting historical date input.
- **AdminDashboard**: Management interface for freight-related data, including agents and ports.
- **AgentSeaFreightTable**: Displays statistics for sea freight agents.
- **ShippingLineTable**: Manages shipping line details.
- **DTHCTable**: Handles Destination Terminal Handling Charge (D/O) entries.
- **CombinedFreightTable**: Manages combined freight rates with expiry validation.
- **BorderDestinationTable**: Manages freight rates for border destinations.
- **WeightSurchargeTable**: Manages weight surcharge rules.
- **DPCostTable**: Manages direct port cost information.
- **CostCalculatorHeader**: Header component for the cost calculator.
- **CostResultTable**: Displays optimized cost calculation results.
- **CalculationHistory**: Manages historical calculation data.
- **SeaFreightDialog**: Improved dialog for selecting sea freight options with historical date support.
- **CostInputForm**: Form for inputting cost-related data, now includes a historical date feature.
- **RailAgentTable**: Displays rail freight agents.
- **TruckAgentTable**: Displays truck freight agents.
- **LoginForm**: User authentication form.
- **TimeMachineDialog**: Enhanced dialog for selecting historical dates for freight rate changes.
- **QuotationDialog**: Generates quotations based on calculated costs.
- **AuditLogTable**: Displays audit logs of freight-related changes.
- **PortBorderTable**: Manages freight rates for border crossings.
- **FreightContext**: Manages freight data operations with enhanced historical date features.
- **SeaFreightHistory**: Manages historical freight records.
- **FreightSqlDialog**: Displays SQL queries related to freight calculations, now supports historical dates.
- **CalculationSqlPreviewDialog**: Previews generated SQL queries based on user input, now uses the historical date prop.
- **FreightLoaders**: Loads freight-related data from the database.
- **FreightHelpers**: Contains utility functions for managing freight data and validity checks.

# Directory Tree
```
src/
├── components/
│   ├── auth/
│   │   └── LoginForm.tsx
│   ├── calculator/
│   │   ├── CalculationSqlPreviewDialog.tsx  # Previews SQL queries for calculations
│   │   ├── FreightSqlDialog.tsx              # Displays SQL queries related to freight
│   │   ├── CostCalculatorHeader.tsx
│   │   ├── CostCalculatorWithTabs.tsx        # Core component for calculating freight costs
│   │   ├── CostInputForm.tsx                  # Includes historical date input
│   │   ├── CostResultTable.tsx
│   │   ├── CalculationHistory.tsx
│   │   ├── SeaFreightDialog.tsx               # Improved for historical date selection
│   │   ├── QuotationDialog.tsx
│   │   ├── TimeMachineDialog.tsx               # Dialog for selecting historical dates
│   ├── agents/
│   │   ├── RailAgentTable.tsx
│   │   ├── TruckAgentTable.tsx
│   │   └── ShippingLineTable.tsx
│   ├── freight/
│   │   ├── DTHCTable.tsx
│   │   ├── CombinedFreightTable.tsx
│   │   ├── AgentSeaFreightTable.tsx
│   │   ├── PortTable.tsx
│   │   ├── DestinationTable.tsx
│   │   ├── SeaFreightTable.tsx
│   │   ├── WeightSurchargeTable.tsx
│   │   ├── DPCostTable.tsx
│   │   ├── AuditLogTable.tsx
│   │   ├── PortBorderTable.tsx
│   │   └── BorderDestinationTable.tsx
│   ├── ui/
│   │   ├── button.tsx
│   │   ├── input.tsx
│   │   ├── label.tsx
│   │   ├── checkbox.tsx
│   │   ├── card.tsx
│   │   ├── select.tsx
│   │   ├── table.tsx
│   │   ├── alert-dialog.tsx
│   │   ├── dialog.tsx
│   │   ├── tabs.tsx
│   │   └── alert.tsx
└── pages/
    ├── AdminDashboard.tsx
    └── UserManagement.tsx
```

# File Description Inventory
- **LoginForm.tsx**: User authentication form with enhanced error handling.
- **CalculationSqlPreviewDialog.tsx**: Previews generated SQL queries based on user input, now utilizes historical dates.
- **FreightSqlDialog.tsx**: Displays SQL queries related to freight calculations, supports historical dates.
- **CostCalculatorHeader.tsx**: Header component for the cost calculator.
- **CostCalculatorWithTabs.tsx**: Core component for calculating freight costs, now supports historical date input.
- **CostInputForm.tsx**: Form for inputting cost-related data, now includes a historical date option.
- **CostResultTable.tsx**: Displays results of freight cost calculations.
- **CalculationHistory.tsx**: Manages historical calculation data.
- **SeaFreightDialog.tsx**: Dialog for selecting sea freight options, improved for historical date support.
- **QuotationDialog.tsx**: Dialog for generating quotations.
- **TimeMachineDialog.tsx**: Dialog for selecting historical dates, enhanced for better usability.
- **AdminDashboard.tsx**: Interface for managing freight-related data.
- **UserManagement.tsx**: Interface for managing user accounts.
- **AgentSeaFreightTable.tsx**: Displays statistics of sea freight agents.
- **ShippingLineTable.tsx**: Manages shipping line information.
- **RailAgentTable.tsx**: Displays rail freight agents.
- **TruckAgentTable.tsx**: Displays truck freight agents.
- **DTHCTable.tsx**: Manages D/O entries.
- **CombinedFreightTable.tsx**: Manages combined freight rates.
- **PortTable.tsx**: Manages port information.
- **DestinationTable.tsx**: Manages destination information.
- **SeaFreightTable.tsx**: Displays sea freight options.
- **AuditLogTable.tsx**: Displays audit logs.
- **WeightSurchargeTable.tsx**: Manages weight surcharge information.
- **DPCostTable.tsx**: Manages direct port cost information.
- **PortBorderTable.tsx**: Manages freight rates for border crossings.
- **BorderDestinationTable.tsx**: Manages freight rates for border destinations.
- **FreightLoaders.ts**: Loads various freight-related data from the database.
- **FreightContext.tsx**: Manages the context for freight data operations, including loading and error handling.
- **FreightHelpers.ts**: Contains utility functions for freight data management and validity checks.

# Technology Stack
- React
- TypeScript
- Lucide Icons
- Tailwind CSS for styling
- Context API for state management
- Supabase for backend services

# Usage
1. **Install Dependencies**: Run the command to install the necessary dependencies.
2. **Build the Project**: Use the build command to compile the project.
3. **Run the Application**: Start the application using the appropriate command.
4. **Interact with the Calculator**: Utilize the UI to input POL, POD, weight, and additional costs to calculate freight estimates, including the option to select historical dates.
